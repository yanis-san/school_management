<!-- Template initial de dÃ©marrage de la sauvegarde -->
<div hx-target="this" hx-swap="outerHTML" class="fixed bottom-4 right-4 bg-white rounded-lg shadow-xl p-6 w-96 z-50">
    <h3 class="text-lg font-semibold text-gray-900 mb-4">ğŸ’¾ Sauvegarde</h3>
    
    <div 
        hx-trigger="done" 
        hx-get="{% url 'backup_result' %}" 
        hx-swap="outerHTML" 
        hx-target="this">
        
        <h3 role="status" id="pblabel" tabindex="-1" autofocus class="text-sm font-medium text-blue-600 mb-3">
            â³ Sauvegarde en cours...
        </h3>
        
        <div
            hx-get="{% url 'backup_progress' %}"
            hx-trigger="every 500ms"
            hx-target="this"
            hx-swap="innerHTML">
            
            <!-- Barre de progression -->
            <div class="progress bg-gray-200 rounded-full h-2 overflow-hidden mb-3" 
                 role="progressbar" 
                 aria-valuemin="0" 
                 aria-valuemax="100" 
                 aria-valuenow="0" 
                 aria-labelledby="pblabel">
                <div id="pb" class="progress-bar bg-blue-600 h-full" style="width: 0%; transition: width 0.6s ease;">
                </div>
            </div>
            
            <!-- Message -->
            <p class="text-xs text-gray-600">Initialisation...</p>
        </div>
    </div>
</div>

<style>
    .progress {
        height: 8px;
        background-color: #e5e7eb;
        border-radius: 9999px;
        overflow: hidden;
    }
    
    .progress-bar {
        height: 100%;
        background: linear-gradient(90deg, #3b82f6, #60a5fa);
        transition: width 0.6s ease;
        box-shadow: 0 0 10px rgba(59, 130, 246, 0.5);
    }
</style>
