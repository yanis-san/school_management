<!-- Template de la barre de progression qui se met à jour -->
<h3 role="status" id="pblabel" tabindex="-1" autofocus class="text-sm font-medium mb-3 {% if backup_state.status == 'completed' %}text-green-600{% elif backup_state.status == 'failed' %}text-red-600{% else %}text-blue-600{% endif %}">
    {% if backup_state.status == 'running' %}
        ⏳ {{ backup_state.message }}
    {% elif backup_state.status == 'completed' %}
        ✅ Sauvegarde réussie!
    {% elif backup_state.status == 'failed' %}
        ❌ {{ backup_state.message }}
    {% endif %}
</h3>

<div class="progress bg-gray-200 rounded-full h-2 overflow-hidden mb-3" 
     role="progressbar" 
     aria-valuemin="0" 
     aria-valuemax="100" 
     aria-valuenow="{{ backup_state.progress }}" 
     aria-labelledby="pblabel">
    <div id="pb" class="progress-bar {% if backup_state.status == 'failed' %}bg-red-600{% elif backup_state.status == 'completed' %}bg-green-600{% else %}bg-blue-600{% endif %} h-full" style="width: {{ backup_state.progress }}%; transition: width 0.6s ease;">
    </div>
</div>

<p class="text-xs text-gray-600">{{ backup_state.progress }}%</p>

<style>
    .progress {
        height: 8px;
        background-color: #e5e7eb;
        border-radius: 9999px;
        overflow: hidden;
    }
    
    .progress-bar {
        height: 100%;
        transition: width 0.6s ease;
    }
    
    .progress-bar.bg-blue-600 {
        background: linear-gradient(90deg, #3b82f6, #60a5fa);
        box-shadow: 0 0 10px rgba(59, 130, 246, 0.5);
    }
    
    .progress-bar.bg-green-600 {
        background: linear-gradient(90deg, #16a34a, #4ade80);
        box-shadow: 0 0 10px rgba(22, 163, 74, 0.5);
    }
    
    .progress-bar.bg-red-600 {
        background: linear-gradient(90deg, #dc2626, #ef4444);
        box-shadow: 0 0 10px rgba(220, 38, 38, 0.5);
    }
</style>
